---

title: Command line interface


keywords: fastai
sidebar: home_sidebar

summary: "Access to the GitHub API from the command line"
description: "Access to the GitHub API from the command line"
nb_path: "01_cli.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 01_cli.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can use <a href="/core.html#GhApi"><code>GhApi</code></a> via the command line, and can access nearly everything in the <a href="https://docs.github.com/en/free-pro-team@latest/rest">GitHub API</a>.</p>
<p>There are three commands provided. For most people, <a href="/cli.html#ghapi"><code>ghapi</code></a> will be the easiest to use. All three commands take the following parameters:</p>
<ul>
<li><code>--help</code>: list all parameters to this command and endpoint</li>
<li><code>--headers</code>: A list of extra headers to pass, JSON-encoded</li>
<li><code>--token</code>: A GitHub authentation token</li>
<li><code>--debug</code>: Print requests before sending them</li>
</ul>
<p>If you have an environment variable <code>GITHUB_TOKEN</code> defined, then it will be used for the token if <code>--token</code> is not passed. If neither is provided, then the commands will not be able to acces any authentication functionality.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-ghapi-command">The <a href="/cli.html#ghapi"><code>ghapi</code></a> command<a class="anchor-link" href="#The-ghapi-command"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To get started with the <a href="/cli.html#ghapi"><code>ghapi</code></a> command, first find the name of the operation you wish to perform. If you've used the Python API, then you already know the operation names - they're whatever you type in Python after "<code>api.</code>". To find the name of the operation you need, search the <a href="https://ghapi.fast.ai/fullapi.html">full API reference</a> which contains information about every endpoint in the entire GitHub API. For instance, if you want to work with GitHub Issues, then searching for "issues" on the full reference page will take you to <a href="https://ghapi.fast.ai/fullapi.html#issues">this section</a>.</p>
<p>The first operation listed there is <a href="https://docs.github.com/en/free-pro-team@latest/rest/reference/issues#list-issues-assigned-to-the-authenticated-user">issues.list</a>, shown with a link to the official GitHub documentation, and a list of parameters that the command accepts. You'll see the official docs list some parameters, such as "<code>accept</code>", which aren't listed in the GhApi reference - that's because GhApi automatically set some parameters for you.</p>
<p>You'll also see that the parameter list on the official docs includes a column marked "<strong>in</strong>", which can be "header", "query", "path", or "body". The <a href="/cli.html#ghapi"><code>ghapi</code></a> command handles that distinction for you, so you can ignore it for now.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ghapi" class="doc_header"><code>ghapi</code><a href="https://github.com/fastai/ghapi/tree/master/ghapi/cli.py#L34" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ghapi</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To use <a href="/cli.html#ghapi"><code>ghapi</code></a>, pass the method name (exactly the same as you'd use in the Python API) as the first parameter, followed by any positional parameters required, and then keyword arguments with "<code>--</code>" before each parameter name.</p>
<p>For instance, <a href="https://ghapi.fast.ai/fullapi.html#git">git.get_ref</a> takes three parameters: <code>owner</code>, <code>repo</code>, and <code>ref</code>. If we wish to pass the first two as positional parameters, and the last as a named argument, then we'd call:</p>

<pre><code>ghapi git.get_ref fastai ghapi-test --ref heads/master</code></pre>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span> <span class="o">=</span> <span class="s1">&#39;ghapi git.get_ref fastai ghapi-test --ref heads/master&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">ghapi</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>- ref: refs/heads/master
- node_id: MDM6UmVmMzE1NzEyNTg4OnJlZnMvaGVhZHMvbWFzdGVy
- url: https://api.github.com/repos/fastai/ghapi-test/git/refs/heads/master
- object: 
  - sha: b89fa3b3443a552df12e8c16e35b06041552b764
  - type: commit
  - url: https://api.github.com/repos/fastai/ghapi-test/git/commits/b89fa3b3443a552df12e8c16e35b06041552b764
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you pass just <code>--help</code> after the method name, you'll see a full list of all parameters accepted.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span> <span class="o">=</span> <span class="s1">&#39;ghapi git.get_ref --help&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">ghapi</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>git.get_ref(owner, repo, ref)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-ghpath-command">The <code>ghpath</code> command<a class="anchor-link" href="#The-ghpath-command"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you find the endpoint you want in the GitHub docs, rather than the GhApi reference, you'll see a <code>path</code> and a <code>verb</code> instead of an operation name. For example, here's the GitHub documentation for <a href="https://docs.github.com/en/free-pro-team@latest/rest/reference/git#get-a-reference">git.getref</a>. The white text on blue background section shows that the verb required is "<code>GET</code>". Next to that is the path, which is listed as "<code>/repos/{owner}/{repo}/git/ref/{ref}</code>".</p>
<p>To call an endpoint when you have this information from the GitHub docs, use the <code>ghpath</code> command. The arguments are exactly the same as <a href="/cli.html#ghapi"><code>ghapi</code></a>, except that instead of an operation name, you provide the path (which you can paste directly from the GitHub docs) and verb. For instance, the previous <code>git.get_ref</code> command using <code>ghpath</code> would be:</p>

<pre><code>ghpath '/repos/{owner}/{repo}/git/ref/{ref}' get fastai ghapi-test --ref heads/master</code></pre>
<p>Just like with <a href="/cli.html#ghapi"><code>ghapi</code></a>, <code>ghpath</code> handles header, query, path and body parameters for you automatically.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-ghraw-command">The <code>ghraw</code> command<a class="anchor-link" href="#The-ghraw-command"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Sometimes, you just want to call an exact path directly, handling the path and query parameters yourself. The <code>ghraw</code> command provides that functionality. Like with <code>ghpath</code>, you pass the path and verb as the first two arguments, but now you have to fill in all the path parameters yourself, plus construct the query string yourself (if one is required). If you need to pass body parameters, use the <code>--data</code> parameter, which requires that you encode the request body appropriately (which is JSON-encoded for most GitHub endpoints).</p>
<p>For instance, the <code>git.git_ref</code> example show in the previous two sections does not have any header, body, or query parameters, so we need only insert the path parameters, which results in this call:</p>

<pre><code>ghraw '/repos/owner/ghapi-test/git/ref/refs/heads/master' get</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Shell-completions">Shell completions<a class="anchor-link" href="#Shell-completions"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Shell completions are provided for <a href="/cli.html#ghapi"><code>ghapi</code></a> behind the scenes by the <code>completion-ghapi</code> command (which is implemented with the <a href="/cli.html#completion_ghapi"><code>completion_ghapi</code></a> function). You probably won't need to call this yourself - it will be called for you as part by your shell.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="completion_ghapi" class="doc_header"><code>completion_ghapi</code><a href="https://github.com/fastai/ghapi/tree/master/ghapi/cli.py#L47" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>completion_ghapi</code>()</p>
</blockquote>
<p>Python backend for <code>completion-ghapi</code> command</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span> <span class="o">=</span> <span class="s1">&#39;completion-ghapi git&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">completion_ghapi</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>git
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span> <span class="o">=</span> <span class="s1">&#39;completion-ghapi gi&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">completion_ghapi</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>gists
git
gitignore
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span> <span class="o">=</span> <span class="s1">&#39;completion-ghapi git.g&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">completion_ghapi</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>get_blob
get_commit
get_ref
get_tag
get_tree
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

